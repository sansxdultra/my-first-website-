<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floral Judgment</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            height: 100vh;
            overflow: hidden;
            background: linear-gradient(90deg, red, orange, yellow, green, blue, indigo, violet);
            background-size: 1400% 1400%;
            animation: rainbow 12s linear infinite;
            font-family: 'Courier New', monospace;
            cursor: default;
        }
        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        .scene {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Main Flower */
        .flower {
            width: 140px;
            height: 140px;
            position: relative;
            cursor: pointer;
            z-index: 10;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
        }
        .petal {
            position: absolute;
            width: 60px;
            height: 90px;
            background: #ff6b6b;
            border-radius: 50% 50% 50% 0;
            transform-origin: bottom center;
        }
        .center {
            position: absolute;
            width: 35px;
            height: 35px;
            background: #ffd166;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
        }
        .stem {
            position: absolute;
            width: 12px;
            height: 180px;
            background: #2e8b57;
            bottom: -180px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1;
            border-radius: 0 0 6px 6px;
        }

        /* Small Flowers */
        .small-flower {
            position: absolute;
            width: 40px;
            height: 40px;
            z-index: 1;
            opacity: 0.8;
        }
        .small-petal {
            position: absolute;
            width: 18px;
            height: 25px;
            background: #ff9e6d;
            border-radius: 50% 50% 50% 0;
            transform-origin: bottom center;
        }
        .small-center {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ffd166;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* Messages */
        .message {
            position: absolute;
            top: 30px;
            left: 30px;
            max-width: 300px;
            text-align: left;
            font-size: 1.8rem;
            font-weight: bold;
            color: white;
            padding: 16px;
            border-radius: 8px;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.4s ease;
            pointer-events: none;
        }
        .message.warning {
            background: rgba(0,0,0,0.7);
            opacity: 1;
            transform: translateY(0);
        }
        .message.dead {
            background: black;
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
        }
        .message.final {
            background: black;
            opacity: 1;
            transform: translateY(0);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            max-width: 80%;
            padding: 30px;
            font-size: 2.5rem;
        }

        /* Reset Button */
        .reset-btn {
            display: none;
            margin-top: 20px;
            padding: 14px 28px;
            font-size: 1.4rem;
            background: #333;
            color: white;
            border: 2px solid #ff4d4d;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: inherit;
        }
        .reset-btn:hover {
            background: #ff4d4d;
            transform: scale(1.05);
        }

        .moral-text {
            margin-top: 10px;
            font-size: 1.1rem;
            color: #aaa;
            text-align: center;
            max-width: 300px;
        }

        /* Jump animation */
        @keyframes jump {
            0%, 100% { transform: translateY(0); }
            40% { transform: translateY(-50px); }
            60% { transform: translateY(-50px); }
        }
        .jump {
            animation: jump 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
    </style>
</head>
<body>
    <div class="scene" id="scene">
        <div class="flower" id="mainFlower">
            <!-- 8 petals -->
            <div class="petal" style="transform: rotate(0deg);"></div>
            <div class="petal" style="transform: rotate(45deg);"></div>
            <div class="petal" style="transform: rotate(90deg);"></div>
            <div class="petal" style="transform: rotate(135deg);"></div>
            <div class="petal" style="transform: rotate(180deg);"></div>
            <div class="petal" style="transform: rotate(225deg);"></div>
            <div class="petal" style="transform: rotate(270deg);"></div>
            <div class="petal" style="transform: rotate(315deg);"></div>
            <div class="center"></div>
            <div class="stem"></div>
        </div>

        <!-- Scatter small flowers -->
        <div class="small-flower" style="top: 15%; left: 10%;">
            <div class="small-petal" style="transform: rotate(0deg); background:#a78bfa;"></div>
            <div class="small-petal" style="transform: rotate(60deg); background:#a78bfa;"></div>
            <div class="small-petal" style="transform: rotate(120deg); background:#a78bfa;"></div>
            <div class="small-center"></div>
        </div>
        <div class="small-flower" style="top: 80%; left: 20%;">
            <div class="small-petal" style="transform: rotate(0deg); background:#06d6a0;"></div>
            <div class="small-petal" style="transform: rotate(60deg); background:#06d6a0;"></div>
            <div class="small-petal" style="transform: rotate(120deg); background:#06d6a0;"></div>
            <div class="small-center"></div>
        </div>
        <div class="small-flower" style="top: 70%; left: 80%;">
            <div class="small-petal" style="transform: rotate(0deg); background:#ff9e6d;"></div>
            <div class="small-petal" style="transform: rotate(60deg); background:#ff9e6d;"></div>
            <div class="small-petal" style="transform: rotate(120deg); background:#ff9e6d;"></div>
            <div class="small-center"></div>
        </div>
        <div class="small-flower" style="top: 25%; left: 85%;">
            <div class="small-petal" style="transform: rotate(0deg); background:#118ab2;"></div>
            <div class="small-petal" style="transform: rotate(60deg); background:#118ab2;"></div>
            <div class="small-petal" style="transform: rotate(120deg); background:#118ab2;"></div>
            <div class="small-center"></div>
        </div>

        <!-- Messages -->
        <div class="message" id="message">
            you touched a flower<br>ur gonna die
        </div>
    </div>

    <script>
        // === State Tracking ===
        let touchCount = 0;
        let resetCount = 0;
        const message = document.getElementById('message');
        const mainFlower = document.getElementById('mainFlower');
        const scene = document.getElementById('scene');

        // === Flower Interaction ===
        mainFlower.addEventListener('click', () => {
            if (document.body.classList.contains('final-judgment')) return;

            // Jump
            mainFlower.classList.add('jump');
            setTimeout(() => mainFlower.classList.remove('jump'), 600);

            // Random color for petals
            const petals = mainFlower.querySelectorAll('.petal');
            const colors = ['#ff6b6b', '#4ecdc4', '#ffd166', '#118ab2', '#06d6a0', '#ff9e6d', '#a78bfa', '#ff6b6b'];
            const randColor = colors[Math.floor(Math.random() * colors.length)];
            petals.forEach(p => p.style.background = randColor);

            touchCount++;

            // === First Touch ===
            if (touchCount === 1) {
                message.className = 'message warning';
            }
            // === Second Touch (First Death) ===
            else if (touchCount === 2) {
                // Kill rainbow, go black
                document.body.style.animation = 'none';
                document.body.style.background = 'black';
                message.className = 'message dead';
                message.innerHTML = 'u are already dead';

                // Show reset button & moral text
                const btn = document.createElement('button');
                btn.className = 'reset-btn';
                btn.textContent = 'RESET';
                btn.onclick = () => {
                    resetCount++;
                    location.reload();
                };

                const moral = document.createElement('div');
                moral.className = 'moral-text';
                moral.innerHTML = 'you commited terrible deeds.<br>you can be a good person...<br>but you can reset';

                message.appendChild(document.createElement('br'));
                message.appendChild(btn);
                message.appendChild(document.createElement('br'));
                message.appendChild(moral);
            }
            // === Third Touch (After Reset): Final Judgment ===
            else if (touchCount >= 3 && resetCount >= 1) {
                document.body.className = 'final-judgment';
                document.body.style.background = 'black';
                document.body.innerHTML = `
                    <div class="message final">
                        all right u are an asshole
                    </div>
                `;
                // Disable all interaction
                document.body.style.pointerEvents = 'none';
            }
        });

        // === Auto-rainbow (if not dead) ===
        function animateBackground() {
            if (!document.body.classList.contains('final-judgment') && 
                document.body.style.background !== 'black') {
                requestAnimationFrame(animateBackground);
            }
        }
        animateBackground();
    </script>
</body>
</html>
